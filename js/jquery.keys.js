(function(a){a.extend({keys:function(c,d){a(document).keys(c,d)},unkeys:function(c){a(document).unkeys(c)},keyCode:function(a){a=a||window.event;return a.keyCode||a.which},keyName:function(c){for(var d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",19:"break",20:"caps lock",27:"escape",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",45:"insert",46:"delete",47:"left window key",92:"right window key",
93:"select key",96:"numpad 0",97:"numpad 1",98:"numpad 2",99:"numpad 3",100:"numpad 4",101:"numpad 5",102:"numpad 6",103:"numpad 7",104:"numpad 8",105:"numpad 9",106:"numpad *",107:"numpad +",109:"numpad -",110:"numpad .",111:"numpad /",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"num lock",145:"scroll lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},b=48;b<=57;b++)d[b]=b-48;for(b=
65;b<=90;b++)d[b]="abcdefghijklmnopqrstuvwxyz".charAt(b-65);return d[a.keyCode(c)]}});a.fn.extend({keys:function(c,d){var b=a(this),f=[];a.isFunction(c)&&(d=c,c="*");b.live("keydown.keys",function(b){var e=a.keyCode(b),k=a(this),j=true;a.inArray(e,f)===-1&&(f[f.length]=e);e=c.match(/\\{0},/)?c.split(/\\{0},/):[c];a.each(e,function(c,g){var g=a.trim(g),e=[],h=0,i=g.split(/\\{0}\+/);a.each(f,function(c,d){e[c]=g.match(/\+?\[[0-9]+\]\+?/)?"["+d+"]":a.keyName(b);a.each(i,function(b,d){i[b]=a.trim(d);
a.trim(d.toLowerCase())===e[c]&&h++})});if(h===e.length&&h===i.length||g==="*")a.isFunction(d)&&(j=d.call(k,b)===false?false:true)});return j});b.live("keyup.keys",function(){f=[]});return b},unkeys:function(c){var d=a(this);d.die("keydown..keys",c);return d.die("keyup.keys")}})})(jQuery);